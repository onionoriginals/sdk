# Asset Migration Flow - Visual Overview

## Current Implementation Status

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ASSET LIFECYCLE FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   did:peer       â”‚      â”‚   did:webvh      â”‚      â”‚   did:btco       â”‚
â”‚                  â”‚      â”‚                  â”‚      â”‚                  â”‚
â”‚  Private Layer   â”‚ â”€â”€â”€â–º â”‚  Public Layer    â”‚ â”€â”€â”€â–º â”‚  Bitcoin Layer   â”‚
â”‚  (Offline)       â”‚      â”‚  (HTTPS)         â”‚      â”‚  (Immutable)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Free, instant          $25/year hosting         $75-200 one-time


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IMPLEMENTATION STATUS MATRIX                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer        â”‚ SDK Status â”‚ API Status â”‚ UI Status â”‚ Priority
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
did:peer     â”‚     âœ…     â”‚     âš ï¸     â”‚    âš ï¸     â”‚   ğŸ”´
did:webvh    â”‚     âœ…     â”‚     âŒ     â”‚    âŒ     â”‚   ğŸ”´
did:btco     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ     â”‚   ğŸŸ¡
Transfer     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ     â”‚   ğŸŸ¢

Legend:
  âœ… = Fully implemented and tested
  âš ï¸ = Partially implemented
  âŒ = Not implemented
  ğŸ”´ = High priority
  ğŸŸ¡ = Medium priority
  ğŸŸ¢ = Low priority / nice to have
```

---

## Detailed Component Flow

### 1. Asset Creation (did:peer) - PARTIALLY WORKING

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ASSET CREATION FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (create-asset-simple.tsx)
    â”‚
    â”‚ 1. User fills form
    â”‚    - Title, description
    â”‚    - Media file upload
    â”‚    - Custom properties
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  CURRENT IMPLEMENTATION    â”‚ â† Problem: Doesn't use SDK!
â”‚                                â”‚
â”‚  createAssetMutation.mutate({  â”‚
â”‚    title, description,         â”‚
â”‚    mediaUrl, metadata          â”‚
â”‚  })                            â”‚
â”‚                                â”‚
â”‚  â†’ POST /api/assets            â”‚
â”‚  â†’ Storage.createAsset()       â”‚
â”‚  â†’ Database insert only        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ Result: Asset without DID âŒ
    â”‚
    â–¼
Database (assets table)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… NEEDED IMPLEMENTATION      â”‚ â† Solution: Use SDK!
â”‚                                â”‚
â”‚  1. Hash media file (SHA-256)  â”‚
â”‚  2. Create AssetResource[]     â”‚
â”‚  3. POST /api/assets/create    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Backend API (routes.ts)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  originalsSdk.lifecycle        â”‚
â”‚    .createAsset(resources)     â”‚
â”‚                                â”‚
â”‚  â†’ Generates did:peer          â”‚
â”‚  â†’ Creates DID document        â”‚
â”‚  â†’ Generates keypair           â”‚
â”‚  â†’ Stores in KeyStore          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return OriginalsAsset         â”‚
â”‚                                â”‚
â”‚  {                             â”‚
â”‚    id: "did:peer:abc123...",   â”‚
â”‚    resources: [...],           â”‚
â”‚    did: { DID document },      â”‚
â”‚    currentLayer: "did:peer",   â”‚
â”‚    provenance: { ... }         â”‚
â”‚  }                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Database + Frontend Display
```

---

### 2. Web Publication (did:webvh) - NOT IMPLEMENTED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      WEB PUBLICATION FLOW (NEEDED)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (NEW: publish-asset.tsx)
    â”‚
    â”‚ 1. List assets in did:peer layer
    â”‚ 2. Select asset to publish
    â”‚ 3. Confirm domain (e.g., myassets.com)
    â”‚
    â–¼
POST /api/assets/:id/publish-to-web
    â”‚
    â–¼
Backend API (routes.ts)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Fetch asset from database                              â”‚
â”‚  2. Reconstruct OriginalsAsset object                      â”‚
â”‚  3. Call originalsSdk.lifecycle.publishToWeb(asset, domain)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
SDK LifecycleManager.publishToWeb()
    â”‚
    â”œâ”€â–º Upload resources to storage adapter
    â”‚   â”‚
    â”‚   â”œâ”€â–º For each resource:
    â”‚   â”‚   - Generate content-addressed path
    â”‚   â”‚   - Upload to S3/storage
    â”‚   â”‚   - Get URL: https://domain/.well-known/webvh/{slug}/resources/{hash}
    â”‚   â”‚
    â”‚   â””â”€â–º Store URLs in resource.url
    â”‚
    â”œâ”€â–º Create did:webvh binding
    â”‚   â”‚
    â”‚   â””â”€â–º did:webvh:myassets.com:{slug}
    â”‚
    â”œâ”€â–º Issue ResourceMigrated credential
    â”‚   â”‚
    â”‚   â”œâ”€â–º Sign with did:peer key
    â”‚   â””â”€â–º credentialSubject: { fromLayer: "did:peer", toLayer: "did:webvh" }
    â”‚
    â””â”€â–º Migrate asset layer
        â”‚
        â””â”€â–º asset.migrate("did:webvh", { ... })
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return updated OriginalsAsset                             â”‚
â”‚                                                            â”‚
â”‚  {                                                         â”‚
â”‚    id: "did:peer:abc123...",                               â”‚
â”‚    currentLayer: "did:webvh",                              â”‚
â”‚    bindings: {                                             â”‚
â”‚      "did:webvh": "did:webvh:myassets.com:abc123"         â”‚
â”‚    },                                                      â”‚
â”‚    resources: [                                            â”‚
â”‚      { id, hash, url: "https://..." }                     â”‚
â”‚    ],                                                      â”‚
â”‚    credentials: [{ ResourceMigrated VC }],                â”‚
â”‚    provenance: {                                           â”‚
â”‚      migrations: [{ from: "did:peer", to: "did:webvh" }] â”‚
â”‚    }                                                       â”‚
â”‚  }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Update Database + Return to Frontend
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Display                                          â”‚
â”‚                                                            â”‚
â”‚  âœ… Published to Web!                                      â”‚
â”‚  ğŸ“ DID: did:webvh:myassets.com:abc123                     â”‚
â”‚  ğŸ”— Resources accessible at:                               â”‚
â”‚     https://myassets.com/.well-known/webvh/abc123/...      â”‚
â”‚  ğŸ“œ View provenance â†’                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. Bitcoin Inscription (did:btco) - NOT IMPLEMENTED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BITCOIN INSCRIPTION FLOW (NEEDED)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (NEW: inscribe-asset.tsx)
    â”‚
    â”‚ 1. List assets in did:peer or did:webvh layers
    â”‚ 2. Select asset to inscribe
    â”‚ 3. Choose fee rate (sats/vB)
    â”‚ 4. View cost estimate
    â”‚ 5. Confirm inscription
    â”‚
    â–¼
POST /api/assets/:id/inscribe-on-bitcoin
    â”‚
    â–¼
Backend API (routes.ts)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Fetch asset from database                              â”‚
â”‚  2. Reconstruct OriginalsAsset object                      â”‚
â”‚  3. Call originalsSdk.lifecycle.inscribeOnBitcoin(asset,   â”‚
â”‚     feeRate)                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
SDK LifecycleManager.inscribeOnBitcoin()
    â”‚
    â”œâ”€â–º Create inscription manifest
    â”‚   â”‚
    â”‚   â””â”€â–º {
    â”‚         assetId: "did:peer:...",
    â”‚         resources: [{ id, hash, contentType, url }],
    â”‚         timestamp: "2025-10-04T..."
    â”‚       }
    â”‚
    â”œâ”€â–º Call BitcoinManager.inscribeData()
    â”‚   â”‚
    â”‚   â”œâ”€â–º Get fee rate (from oracle or parameter)
    â”‚   â”‚
    â”‚   â”œâ”€â–º Create inscription PSBT
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â–º Commit transaction
    â”‚   â”‚   â”‚   - Contains inscription content
    â”‚   â”‚   â”‚   - Pays to taproot address
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â–º Reveal transaction
    â”‚   â”‚       - Reveals inscription on-chain
    â”‚   â”‚       - Assigns to specific satoshi
    â”‚   â”‚
    â”‚   â””â”€â–º Broadcast transactions
    â”‚
    â”œâ”€â–º Record transaction details
    â”‚   â”‚
    â”‚   â””â”€â–º {
    â”‚         commitTxId: "abc123...",
    â”‚         revealTxId: "def456...",
    â”‚         inscriptionId: "def456i0",
    â”‚         satoshi: "1234567890",
    â”‚         feeRate: 7
    â”‚       }
    â”‚
    â”œâ”€â–º Create did:btco binding
    â”‚   â”‚
    â”‚   â””â”€â–º did:btco:1234567890
    â”‚
    â””â”€â–º Migrate asset layer
        â”‚
        â””â”€â–º asset.migrate("did:btco", { transactionId, inscriptionId, satoshi, ... })
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return updated OriginalsAsset                             â”‚
â”‚                                                            â”‚
â”‚  {                                                         â”‚
â”‚    id: "did:peer:abc123...",                               â”‚
â”‚    currentLayer: "did:btco",                               â”‚
â”‚    bindings: {                                             â”‚
â”‚      "did:webvh": "did:webvh:myassets.com:abc123",        â”‚
â”‚      "did:btco": "did:btco:1234567890"                    â”‚
â”‚    },                                                      â”‚
â”‚    provenance: {                                           â”‚
â”‚      migrations: [                                         â”‚
â”‚        { from: "did:peer", to: "did:webvh", ... },       â”‚
â”‚        {                                                   â”‚
â”‚          from: "did:webvh",                               â”‚
â”‚          to: "did:btco",                                  â”‚
â”‚          commitTxId: "abc123...",                         â”‚
â”‚          revealTxId: "def456...",                         â”‚
â”‚          inscriptionId: "def456i0",                       â”‚
â”‚          satoshi: "1234567890",                           â”‚
â”‚          feeRate: 7                                       â”‚
â”‚        }                                                   â”‚
â”‚      ]                                                     â”‚
â”‚    }                                                       â”‚
â”‚  }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Update Database + Return to Frontend
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Display                                          â”‚
â”‚                                                            â”‚
â”‚  âœ… Inscribed on Bitcoin!                                  â”‚
â”‚  ğŸ“ DID: did:btco:1234567890                               â”‚
â”‚  ğŸ”— Inscription ID: def456i0                               â”‚
â”‚  â›“ï¸  Transaction: def456... (view on mempool.space)       â”‚
â”‚  ğŸ“œ View provenance â†’                                      â”‚
â”‚  ğŸ’¸ Total cost: 15,234 sats (~$10.23 USD)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. Ownership Transfer - NOT IMPLEMENTED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      OWNERSHIP TRANSFER FLOW (NEEDED)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (NEW: transfer-asset.tsx)
    â”‚
    â”‚ 1. List assets in did:btco layer
    â”‚ 2. Select asset to transfer
    â”‚ 3. Enter recipient Bitcoin address
    â”‚ 4. View transfer fee
    â”‚ 5. Confirm transfer
    â”‚
    â–¼
POST /api/assets/:id/transfer
    â”‚
    â–¼
Backend API (routes.ts)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Fetch asset from database                              â”‚
â”‚  2. Validate recipient address                             â”‚
â”‚  3. Call originalsSdk.lifecycle.transferOwnership(asset,   â”‚
â”‚     recipientAddress)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
SDK LifecycleManager.transferOwnership()
    â”‚
    â”œâ”€â–º Validate asset is in did:btco layer
    â”‚
    â”œâ”€â–º Create transfer PSBT
    â”‚   â”‚
    â”‚   â”œâ”€â–º Input: Satoshi with inscription
    â”‚   â””â”€â–º Output: Recipient address
    â”‚
    â”œâ”€â–º Sign and broadcast transaction
    â”‚
    â””â”€â–º Record transfer in provenance
        â”‚
        â””â”€â–º {
              from: "did:peer:abc123...",
              to: "bc1q...",
              transactionId: "xyz789...",
              timestamp: "2025-10-04T..."
            }
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return transaction details                                â”‚
â”‚                                                            â”‚
â”‚  {                                                         â”‚
â”‚    txid: "xyz789...",                                      â”‚
â”‚    vin: [...],                                             â”‚
â”‚    vout: [...],                                            â”‚
â”‚    fee: 1234                                               â”‚
â”‚  }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Update Database + Return to Frontend
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Display                                          â”‚
â”‚                                                            â”‚
â”‚  âœ… Ownership transferred!                                 â”‚
â”‚  ğŸ“ To: bc1q...                                             â”‚
â”‚  â›“ï¸  Transaction: xyz789... (view on mempool.space)       â”‚
â”‚  ğŸ“œ View provenance â†’                                      â”‚
â”‚  ğŸ’¸ Transfer fee: 1,234 sats (~$0.83 USD)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Resource Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RESOURCE LIFECYCLE                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. CREATION (did:peer)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Media File  â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  SHA-256 Hash   â”‚ â† Computed in browser
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  AssetResource  â”‚
   â”‚  {              â”‚
   â”‚    id,          â”‚
   â”‚    hash,        â”‚
   â”‚    contentType, â”‚
   â”‚    content      â”‚ â† Inline or referenced
   â”‚  }              â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  DID Document   â”‚ â† References resources
   â”‚  did:peer:...   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. PUBLICATION (did:webvh)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Resource with hash      â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Upload to storage adapter          â”‚
   â”‚  â†’ S3: s3://bucket/domain/...       â”‚
   â”‚  â†’ Returns: https://cdn.../...      â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Content-addressed URL:             â”‚
   â”‚  https://domain/.well-known/webvh/  â”‚
   â”‚    {slug}/resources/{hash}          â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Resource object updated:           â”‚
   â”‚  {                                  â”‚
   â”‚    id,                              â”‚
   â”‚    hash,                            â”‚
   â”‚    contentType,                     â”‚
   â”‚    url: "https://..."  â† Added     â”‚
   â”‚  }                                  â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  DID Document   â”‚ â† Still references same resource
   â”‚  did:webvh:...  â”‚    by hash (now accessible)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. INSCRIPTION (did:btco)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Asset manifest          â”‚
   â”‚  {                       â”‚
   â”‚    assetId,              â”‚
   â”‚    resources: [          â”‚
   â”‚      { id, hash, url }   â”‚ â† Includes web URLs
   â”‚    ],                    â”‚
   â”‚    timestamp             â”‚
   â”‚  }                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Inscribe on Bitcoin                â”‚
   â”‚  â†’ Commit TX: Contains manifest     â”‚
   â”‚  â†’ Reveal TX: Inscribed on satoshi  â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Inscription on blockchain          â”‚
   â”‚  Inscription ID: {txid}i{index}     â”‚
   â”‚  Satoshi: 1234567890                â”‚
   â”‚                                     â”‚
   â”‚  Content: Asset manifest (JSON)     â”‚
   â”‚  Points to: Web resources via URL   â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  DID Binding    â”‚
   â”‚  did:btco:      â”‚
   â”‚    1234567890   â”‚ â† Satoshi number
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Provenance Chain Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPLETE PROVENANCE CHAIN                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Asset: "Vintage Camera 001"

{
  "createdAt": "2025-10-04T10:00:00Z",
  "creator": "did:peer:2abc...def",
  "txid": "xyz789...",  â† Latest transaction

  "migrations": [
    {
      "from": "did:peer",
      "to": "did:webvh",
      "timestamp": "2025-10-04T11:30:00Z",
      "transactionId": null,  â† No blockchain TX
      "inscriptionId": null
    },
    {
      "from": "did:webvh",
      "to": "did:btco",
      "timestamp": "2025-10-04T14:00:00Z",
      "transactionId": "def456...",  â† Reveal TX
      "inscriptionId": "def456i0",
      "satoshi": "1234567890",
      "commitTxId": "abc123...",
      "revealTxId": "def456...",
      "feeRate": 7
    }
  ],

  "transfers": [
    {
      "from": "did:peer:2abc...def",
      "to": "bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kxpjzsx",
      "timestamp": "2025-10-04T16:00:00Z",
      "transactionId": "xyz789..."
    }
  ]
}

Timeline Visualization:

2025-10-04
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º

10:00        11:30          14:00          16:00
  â”‚            â”‚              â”‚              â”‚
  â— â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—
Created    Published     Inscribed    Transferred
(peer)     (webvh)       (btco)       (new owner)
```

---

## Data Flow Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA STORAGE LOCATIONS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   KeyStore       â”‚    â”‚   Database       â”‚    â”‚   Storage        â”‚
â”‚   (in-memory)    â”‚    â”‚   (PostgreSQL)   â”‚    â”‚   (S3/IPFS)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚                        â”‚
   Private keys           Asset metadata          Resource files
   - Verification         - Title, desc           - Images
   - Method IDs           - Current layer         - Documents
   - Ed25519/ES256K       - DID documents         - Media
   - Signing keys         - Provenance            - Content

       â”‚                        â”‚                        â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   OriginalsAsset    â”‚
                    â”‚   (runtime object)  â”‚
                    â”‚                     â”‚
                    â”‚  Combines data from â”‚
                    â”‚  all three sources  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Critical Gaps Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WHAT'S MISSING - QUICK REFERENCE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Backend API Endpoints:
  âŒ POST /api/assets/create-with-did        (use SDK for creation)
  âŒ POST /api/assets/:id/publish-to-web     (migrate to webvh)
  âŒ POST /api/assets/:id/inscribe-on-bitcoin (migrate to btco)
  âŒ POST /api/assets/:id/transfer           (ownership transfer)
  âŒ GET  /api/assets/:id/verify             (verify credentials)

Frontend Pages:
  âš ï¸ create-asset-simple.tsx                 (needs SDK integration)
  âŒ publish-asset.tsx                        (NEW - publish to web)
  âŒ inscribe-asset.tsx                       (NEW - inscribe on BTC)
  âŒ transfer-asset.tsx                       (NEW - transfer ownership)
  âŒ provenance-view.tsx                      (NEW - view provenance)

Infrastructure:
  âŒ S3StorageAdapter                         (production storage)
  âŒ OrdinalsClient configuration             (real Bitcoin provider)
  âŒ MempoolSpaceFeeOracle                    (real fee estimation)
  âŒ KeyStore persistence                     (secure key storage)

Database:
  âŒ Migration: Add current_layer column
  âŒ Migration: Add did_peer, did_webvh, did_btco columns
  âŒ Migration: Add provenance JSONB column
  âŒ Index: current_layer for filtering

Tests:
  âš ï¸ Integration tests for new endpoints
  âš ï¸ E2E tests for complete user flow
  âŒ Browser-based e2e tests (Playwright/Cypress)
```

---

*This diagram complements ASSET_MIGRATION_STATUS.md*
*Created: 2025-10-04*
